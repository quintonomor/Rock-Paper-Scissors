<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="buttons">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div id="results"></div>
    <div id="scoreboard">0 - 0</div>
    <div id="gameOver"></div>
    
    <script>
        /*
        const rock = document.querySelector("#rock");
        const paper = document.querySelector("#paper");
        const scissors = document.querySelector("#scissors")
        */

        let buttons = document.querySelector("#buttons");
        let roundResult = document.querySelector("#results");
        let scoreboard = document.querySelector("#scoreboard");
        let gameOver = document.querySelector("#gameOver");

        buttons.addEventListener("click", (event) => {
            let target = event.target;
            let modHuman;
            let modCPU;
            modCPU = getComputerChoice(modCPU);

            switch(target.id) {
                case "rock":
                    modHuman = "rock";
                    playRound(modHuman, modCPU);
                    break;
                case "paper":
                    modHuman = "paper";
                    playRound(modHuman, modCPU);
                    break;
                case "scissors":
                    modHuman = "scissors";
                    playRound(modHuman, modCPU);
                    break;
            }
        })

        let cpuScore = 0;
        let humanScore = 0;

        //playGame();

        function getComputerChoice(choice) {
            let numChoice = Math.floor(Math.random() * 3);

            if (numChoice == 0) {
                return choice = "Rock"
            } else if (numChoice == 1) {
                return choice = "Paper"
            } else if (numChoice == 2) {
                return choice = "Scissors"
            }
        }

        function getHumanChoice(choice) {
            return choice = prompt("Choice?")
        }

        function playRound(humanChoice, computerChoice) {
            humanChoice = humanChoice.toLowerCase();
            if ((humanChoice == "rock" && computerChoice == "Scissors")
            || (humanChoice == "paper" && computerChoice == "Rock")
            || (humanChoice == "scissors" && computerChoice == "Paper")) {
                if (humanChoice == "rock") {
                    roundResult.textContent = "You win! Rock beats Scissors";
                } else if (humanChoice == "paper") {
                    roundResult.textContent = "You win! Paper beats Rock";
                } else if (humanChoice == "scissors") {
                    roundResult.textContent = "You win! Scissors beats Paper";
                }
                humanScore++;
            } else if ((computerChoice == "Rock" && humanChoice == "scissors")
            || (computerChoice == "Paper" && humanChoice == "rock")
            || (computerChoice == "Scissors" && humanChoice == "paper")) {
                if (computerChoice == "Rock") {
                    roundResult.textContent = "You lose! Rock beats Scissors";
                } else if (computerChoice == "Paper") {
                    roundResult.textContent = "You lose! Paper beats Rock";
                } else if (computerChoice == "Scissors") {
                    roundResult.textContent = "You lose! Scissors beats Paper";
                }
                cpuScore++;
            } else {
                roundResult.textContent = "Tie!";
            }

            scoreboard.textContent = `${humanScore} - ${cpuScore}`;

            if (humanScore === 5 || cpuScore === 5) {
                const winner = humanScore === 5 ? "You win the game!" : "Computer wins the game!";
                gameOver.textContent = winner;
            }


        }

        function playGame() {
        let cpu;
        let human;
        
        while (cpuScore < 5 && humanScore < 5) {
            human = getHumanChoice(human);
            cpu = getComputerChoice(cpu);
            playRound(human, cpu);

            if (cpuScore == 5) {
                console.log("Better luck next time!");
            } else if (humanScore == 5) {
                console.log("Congratulations, you have won!");
            }
        }
        }

    </script>

</body>
</html>